var wpcf7_redirect;(function($){function Wpcf7_redirect(){this.init=function(){this.wpcf7_redirect_mailsent_handler()};this.wpcf7_redirect_mailsent_handler=function(){document.addEventListener("wpcf7mailsent",function(e){$(document.body).trigger("wpcf7r-mailsent",[e]);if(typeof e.detail.apiResponse!="undefined"&&e.detail.apiResponse){var i=e.detail.apiResponse;var t=0;if(typeof i.api_url_request!="undefined"&&i.api_url_request){wpcf7_redirect.handle_api_action(i.api_url_request)}if(typeof i.api_json_xml_request!="undefined"&&i.api_json_xml_request){wpcf7_redirect.handle_api_action(i.api_json_xml_request)}if(typeof i.FireScript!="undefined"&&i.FireScript){t=typeof i.FireScript.delay_redirect!="undefined"?i.FireScript.delay_redirect:t;window.setTimeout(function(){wpcf7_redirect.handle_javascript_action(i.FireScript)},t)}if(typeof i.popup!="undefined"&&i.popup){wpcf7_redirect.handle_popups(i.popup)}if(typeof i.redirect_to_paypal!="undefined"&&i.redirect_to_paypal){t=typeof i.redirect_to_paypal.delay_redirect!="undefined"?i.redirect_to_paypal.delay_redirect:t;window.setTimeout(function(){wpcf7_redirect.handle_redirect_action(i.redirect_to_paypal)},t)}if(typeof i.redirect!="undefined"&&i.redirect){t=typeof i.redirect.delay_redirect!="undefined"?i.redirect.delay_redirect:t;window.setTimeout(function(){wpcf7_redirect.handle_redirect_action(i.redirect)},t)}}},false);document.addEventListener("wpcf7invalid",function(e){$(document.body).trigger("wpcf7r-invalid",[e]);if(typeof e.detail.apiResponse!="undefined"&&e.detail.apiResponse){response=e.detail.apiResponse;if(response.invalidFields){wpcf7_redirect.ninja_multistep_mov_to_invalid_tab(e,response)}}})};this.handle_popups=function(e){$(document.body).trigger("wpcf7r-before-open-popup",[event]);$.each(e,function(e,i){var t=$(i["popup-template"]);$(document.body).append(t);$(document.body).addClass(i["template-name"]);window.setTimeout(function(){$(document.body).addClass("modal-popup-open");t.addClass("is-open")},1e3);t.find(".close-button").on("click",function(){t.removeClass("is-open").addClass("fade");$(document.body).removeClass("modal-popup-open");window.setTimeout(function(){$(".wpcf7r-modal").remove();$(document.body).trigger("wpcf7r-popup-removed",[t])},4e3)});$(document.body).trigger("wpcf7r-popup-appended",[t])})};this.handle_api_action=function(send_to_api_result,request){$.each(send_to_api_result,function(k,v){if(!v.result_javascript){return}response=typeof v.api_response!="undefined"?v.api_response:"";request=typeof v.request!="undefined"?v.request:"";eval(v.result_javascript)})};this.ninja_multistep_mov_to_invalid_tab=function(e,i){if($(".fieldset-cf7mls-wrapper").length){var t=$(e.target);var r=i.invalidFields[0];var n=$(r.into).parents("fieldset");t.find(".fieldset-cf7mls").removeClass("cf7mls_current_fs");n.addClass("cf7mls_current_fs").removeClass("cf7mls_back_fs");if(t.find(".cf7mls_progress_bar").length){t.find(".cf7mls_progress_bar li").eq(t.find("fieldset.fieldset-cf7mls").index(previous_fs)).addClass("current");t.find(".cf7mls_progress_bar li").eq(t.find("fieldset.fieldset-cf7mls").index(current_fs)).removeClass("active current")}}};this.handle_redirect_action=function(e){$(document.body).trigger("wpcf7r-handle_redirect_action",[e]);$.each(e,function(e,i){var t=typeof i.delay!="undefined"&&i.delay?i.delay:"";t=t*1e3;window.setTimeout(function(e){var i=typeof e.redirect_url!="undefined"&&e.redirect_url?e.redirect_url:"";var t=typeof e.type!="undefined"&&e.type?e.type:"";if(typeof e.form!="undefined"&&e.form){$("body").append(e.form);$("#cf7r-result-form").submit()}else{if(i&&t=="redirect"){window.location=i}else if(i&&t=="new_tab"){window.open(i)}}},t,i)})};this.handle_javascript_action=function(scripts){$(document.body).trigger("wpcf7r-handle_javascript_action",[scripts]);$.each(scripts,function(k,script){eval(script)})};this.htmlspecialchars_decode=function(e){var i={"&amp;":"&","&#038;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","&#8217;":"’","&#8216;":"‘","&#8211;":"–","&#8212;":"—","&#8230;":"…","&#8221;":"”"};return e.replace(/\&[\w\d\#]{2,5}\;/g,function(e){return i[e]})};this.init()}wpcf7_redirect=new Wpcf7_redirect})(jQuery);